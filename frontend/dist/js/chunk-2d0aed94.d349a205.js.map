{"version":3,"sources":["webpack:///./src/views/OrdersDetail.vue?6507","webpack:///src/views/OrdersDetail.vue","webpack:///./src/views/OrdersDetail.vue?05de","webpack:///./src/views/OrdersDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","headers","orders","scopedSlots","_u","key","fn","ref","on","_g","_b","model","value","callback","$$v","dialog","expression","_s","formTitle","editedItem","$set","close","save","dialogDelete","closeDelete","deleteItemConfirm","proxy","item","$event","editItem","deleteItem","listOrders","staticRenderFns","axios","name","data","text","align","sortable","editedIndex","status","defaultItem","computed","watch","val","created","methods","indexOf","Object","assign","splice","$nextTick","push","post","userLocal","then","console","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VContainer","VDataTable","VDialog","VDivider","VIcon","VRow","VSpacer","VTextField","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d0aed94.d349a205.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Orders\")]),_c('v-card-text',[_vm._v(\" You can \"),_c('code',[_vm._v(\"add\")]),_vm._v(\", \"),_c('code',[_vm._v(\"modify\")]),_vm._v(\" and even \"),_c('code',[_vm._v(\"delete\")]),_vm._v(\" an order \")]),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.orders,\"sort-by\":\"calories\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"My Orders Control\")]),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" New Order \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Order Status\",\"placeholder\":\"example: open\"},model:{value:(_vm.editedItem.status),callback:function ($$v) {_vm.$set(_vm.editedItem, \"status\", $$v)},expression:\"editedItem.status\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"Are you sure you want to delete this item?\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"OK\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-5\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}},{key:\"no-data\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.listOrders}},[_vm._v(\" Reset \")])]},proxy:true}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n    <!-- height -->\n    <v-col cols=\"12\">\n      <v-card>\n        <v-card-title>Orders</v-card-title>\n        <v-card-text>\n          You can <code>add</code>, <code>modify</code> and even\n          <code>delete</code> an order\n        </v-card-text>\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"orders\"\n          sort-by=\"calories\"\n          class=\"elevation-1\"\n        >\n          <template v-slot:top>\n            <v-toolbar flat>\n              <v-toolbar-title>My Orders Control</v-toolbar-title>\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\n              <v-spacer></v-spacer>\n              <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    color=\"primary\"\n                    dark\n                    class=\"mb-2\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                  >\n                    New Order\n                  </v-btn>\n                </template>\n                <v-card>\n                  <v-card-title>\n                    <span class=\"text-h5\">{{ formTitle }}</span>\n                  </v-card-title>\n\n                  <v-card-text>\n                    <v-container>\n                      <v-row>\n                        <v-col cols=\"12\" sm=\"6\" md=\"12\">\n                          <v-text-field\n                            v-model=\"editedItem.status\"\n                            label=\"Order Status\"\n                            placeholder=\"example: open\"\n                          ></v-text-field>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-card-text>\n\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"blue darken-1\" text @click=\"close\">\n                      Cancel\n                    </v-btn>\n                    <v-btn color=\"blue darken-1\" text @click=\"save\">\n                      Save\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n              <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n                <v-card>\n                  <v-card-title class=\"text-h5\"\n                    >Are you sure you want to delete this item?</v-card-title\n                  >\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                      >Cancel</v-btn\n                    >\n                    <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                      >OK</v-btn\n                    >\n                    <v-spacer></v-spacer>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-toolbar>\n          </template>\n          <template v-slot:item.actions=\"{ item }\">\n            <v-icon small class=\"mr-5\" @click=\"editItem(item)\">\n              mdi-pencil\n            </v-icon>\n            <v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n          </template>\n          <template v-slot:no-data>\n            <v-btn color=\"primary\" @click=\"listOrders\"> Reset </v-btn>\n          </template>\n        </v-data-table>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:3000\";\nexport default {\n  name: \"OrdersDetail\",\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: \"Order Number\",\n        align: \"start\",\n        sortable: false,\n        value: \"id\",\n      },\n      { text: \"Status\", value: \"status\" },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    orders: [],\n    editedIndex: -1,\n    editedItem: {\n      status: \"\",\n    },\n    defaultItem: {\n      status: \"\",\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"New Order\" : \"Edit Order\";\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n  },\n\n  created() {\n    this.listOrders();\n  },\n\n  methods: {\n    //todo use localstorage to store the token\n    //vue store rest after browser refresh\n    listOrders() {\n      // set token header\n      axios.get(\"/orders\").then((response) => {\n        this.orders = response.data;\n      });\n    },\n\n    editItem(item) {\n      this.editedIndex = this.orders.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.orders.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n\n    deleteItemConfirm() {\n      this.orders.splice(this.editedIndex, 1);\n      this.closeDelete();\n    },\n\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.orders[this.editedIndex], this.editedItem);\n      } else {\n        this.orders.push(this.editedItem);\n        //get stored user id\n        const userLocal = JSON.parse(localStorage.getItem(\"user\"));\n        axios\n          .post(`/user/${userLocal.id}/create-order`, this.editedItem)\n          .then((response) => {\n            console.log(response.data);\n            this.listOrders();\n          });\n      }\n      this.close();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrdersDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrdersDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrdersDetail.vue?vue&type=template&id=04d91a38&\"\nimport script from \"./OrdersDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./OrdersDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDataTable,VDialog,VDivider,VIcon,VRow,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}